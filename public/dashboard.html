<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="YOUR_CSRF_TOKEN_HERE">
    <title>Dashboard</title>
    <link rel="stylesheet" href="toastNotification.css" />
    <link rel="stylesheet" href="dashboardcampaign.css" />
    <link rel="stylesheet" href="dasboardsidebar.css" />
    <link rel="stylesheet" href="dashboardanalytics.css" />
    <link rel="stylesheet" href="dashboardnewcampaign.css" />
    <link rel="stylesheet" href="support.css" />
    <link rel="stylesheet" href="dashboardwelcome.css" />
    <link rel="stylesheet" href="FAQs.css" />
    <link rel="stylesheet" href="traffic.css" />
    <link rel="stylesheet" href="AddPaymentsForms.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet" />
</head>

<body>
    <div class="container">
        <div id="dashboard" class="dashboard">
            <aside>
                <div class="top">
                    <div class="logo">

                    </div>
                    <div class="close" id="close-btn">
                        <span class="material-icons-sharp">close</span>
                    </div>
                </div>

                <div class="sidebar" style="margin-top: 100px;">
                    <a href="#dashboard" class="active">
                        <span class="material-icons-sharp">dashboard</span>
                        <h3>Dashboard</h3>
                    </a>
                    <!-- <a href="#performance">
                        <span class="material-icons-sharp">insights</span>
                        <h3>Analytics</h3>
                    </a>
                    <a href="#datatable">
                        <span class="material-icons-sharp">inventory</span>
                        <h3>Reports</h3>
                    </a> -->
                    <a href="#campaign">
                        <span class="material-icons-sharp">library_books</span>
                        <h3>Campaigns</h3>
                    </a>
                    <a href="#newCampaign">
                        <span class="material-icons-sharp">library_add</span>
                        <h3>New Campaign</h3>
                    </a>
                    <a href="#traffic">
                        <span class="material-icons-sharp">traffic</span>
                        <h3>Traffic Chart</h3>
                    </a>
                    <a href="#FAQs">
                        <span class="material-icons-sharp">help_outline</span>
                        <h3>FAQs</h3>
                    </a>
                    <a href="#support">
                        <span class="material-icons-sharp">info</span>
                        <h3>Support</h3>
                    </a>
                    <a id="logoutButton" href="#logout">
                        <span class="material-icons-sharp">logout</span>
                        <h3>Log out</h3>
                    </a>
                </div>
            </aside>
        </div>

        <div class="main-content">


            <!-- Dashboard Content -->
            <div id="dashboard" class="tab-content">
                <div class="welcome-container">
                    <div class="welcome-header">
                        <h1>Welcome to Adsvertiser!</h1>
                        <p class="welcome-subtitle">Thanks for joining Adsvertiser, the reputable advertising network
                            with
                            the best Partner Care approach. We have multiple popular ad formats and tons of high-quality
                            traffic from all over the world!</p>
                    </div>

                    <h2 class="section-title">How to start getting traffic</h2>

                    <div class="getting-started-grid">
                        <div class="start-card">
                            <h2>Step 1</h2>
                            <h3>Choose payment method and top up your balance</h3>
                            <p class="card-description">Some methods allow you to make payments by yourself, others
                                require a manager's assistance.</p>
                            <ul class="feature-list">
                                <li>
                                    <span class="material-icons-sharp">payment</span>
                                    Credit/Debit Cards
                                </li>
                                <li>
                                    <span class="material-icons-sharp">account_balance</span>
                                    PayPal
                                </li>
                            </ul>
                            <button class="action-button primary" onclick="showTab('payment')">
                                <span class="material-icons-sharp">account_balance_wallet</span>
                                Choose Payment Method
                            </button>
                        </div>

                        <div class="start-card">
                            <h2>Step 2</h2>
                            <h3>Create a campaign by yourself or with the help of a manager</h3>

                            <div class="campaign-options">
                                <div class="option-section">
                                    <h4>By yourself:</h4>
                                    <ul class="feature-list">
                                        <li>
                                            <span class="material-icons-sharp">check_circle</span>
                                            Popunder (CPM, CPA)
                                        </li>
                                        <li>
                                            <span class="material-icons-sharp">check_circle</span>
                                            Native ads (CPM, CPC)
                                        </li>
                                        <li>
                                            <span class="material-icons-sharp">check_circle</span>
                                            Social Bar (In-Page Push) (CPM, CPC, CPA)
                                        </li>
                                    </ul>
                                </div>

                                <div class="option-section">
                                    <h4>With help of a manager:</h4>
                                    <ul class="feature-list">
                                        <li>
                                            <span class="material-icons-sharp">check_circle</span>
                                            Popunder (CPM, CPA)
                                        </li>
                                        <li>
                                            <span class="material-icons-sharp">check_circle</span>
                                            Banner, Native ads (CPM, CPA, CPC, CPI)
                                        </li>
                                        <li>
                                            <span class="material-icons-sharp">check_circle</span>
                                            Social Bar (chats, surveys, etc.) (CPM, CPC, CPA)
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <button class="action-button primary" onclick="showTab('newCampaign')">
                                <span class="material-icons-sharp">add_circle</span>
                                Create Campaign
                            </button>
                        </div>
                    </div>

                    <div class="quick-stats">
                        <div class="start-card">
                            <h2>Recent Activity</h2>
                            <div class="activity-list">
                                <ul id="activityList">
                                    <li class="activity-item">
                                        <span class="material-icons-sharp">notifications</span>
                                        <div class="activity-content">
                                            <p>No recent activity</p>
                                            <span class="activity-time">Start creating campaigns to see your activity
                                                here</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <button class="action-button secondary" onclick="showTab('support')">
                                <span class="material-icons-sharp">support</span>
                                Get Support
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Performance Content -->
            <div id="performance" class="tab-content">

                <h1>Analytics</h1>
                <div id="dateDiv">
                    <input type="date" id="startDate" class="date-input" aria-label="Start Date">
                    <input type="date" id="endDate" class="date-input" aria-label="End Date">
                </div>
                <div id="dateDiv" class="date-controls"></div>
                <div id="summaryStats" class="stats-overview"></div>
                <div class="parent-container">
                    <div class="chart-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>
            </div>
            <div class="payment-form" id="paymentForm">
                <div class="payment-form-header">
                    <h2>Add Funds</h2>
                </div>
                <form id="paymentSubmitForm" class="payment-form-content">
                    <div class="payment-methods"
                        style="display: flex; justify-content: center; align-items: center; width: 100%;">
                        <button type="button" class="payment-method active" onclick="selectPaymentMethod('stripe')"
                            style="width: 100%;">
                            <i class="fa-brands fa-stripe"></i>
                            <span></span>
                        </button>
                    </div>

                    <div class="form-section stripe-section">
                        <div class="form-group">
                            <label>Card Number</label>
                            <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Expiry Date</label>
                                <input type="text" id="expiryDate" placeholder="MM/YY" maxlength="5">
                            </div>
                            <div class="form-group">
                                <label>CVC</label>
                                <input type="text" id="cvc" placeholder="123" maxlength="3">
                            </div>
                        </div>
                    </div>

                    <div class="form-section paypal-section hidden">
                        <div class="form-group">
                            <label>PayPal Email</label>
                            <input type="email" id="paypalEmail" placeholder="your@email.com">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Amount</label>
                        <input type="number" id="amount" placeholder="Enter amount ($)" min="1" step="1" required>
                    </div>

                    <button type="submit" class="submit-button">Proceed to Payment</button>

                    <!-- Status Label -->
                    <div id="statusLabel" class="status-label"></div>
                </form>
            </div>


            <!-- Data Table Content -->
            <div id="datatable" class="tab-content">

                <h1>Analytics</h1>
                <div id="dateDiv">
                    <input type="date" id="startDateTable" class="date-input" aria-label="Start Date">
                    <input type="date" id="endDateTable" class="date-input" aria-label="End Date">
                </div>
                <div class="table-container">
                    <table id="dataTable">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Impressions</th>
                                <th>Clicks</th>
                                <th>Spend</th>
                                <th>CTR</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Campaign Content -->
            <div id="campaign" class="tab-content">

                <h1>Campaigns</h1>

                <div class="campaign-container">
                    <div class="campaign-headers">
                       
                    </div>
                    <div class="campaign-cards" id="campaignTableBody">
                        <!-- Dynamic content goes here -->
                    </div>
                </div>
            </div>

            <!-- New Campaign Content -->
            <!-- New Campaign Content -->
<div id="newCampaign" class="tab-content">
    <div class="campaign-creation-header">
        <h1>Create New Campaign</h1>
        <p class="campaign-subtitle">Set up your advertising campaign with customized targeting and budget settings</p>
    </div>
    
    <form id="campaignForm">
        <!-- Required Settings -->
        <div class="form-section">
            <h2>Campaign Settings</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="campaign-name">
                        <span class="material-icons-sharp">campaign</span>
                        Campaign Name
                    </label>
                    <input type="text" id="campaign-name" name="campaign-name"
                        placeholder="Enter campaign name" required>
                </div>
                <div class="form-group">
                    <label for="device-format">
                        <span class="material-icons-sharp">devices</span>
                        Device
                    </label>
                    <select id="device-format" name="device-format" required>
                        <option value="">Select device type</option>
                        <option value="mobile">Mobile</option>
                        <option value="tablet">Desktop</option>
                        <option value="mobile-tablet">Mobile + Desktop</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="traffic-type">
                        <span class="material-icons-sharp">traffic</span>
                        Traffic Type
                    </label>
                    <select id="traffic-type" name="traffic-type" required>
                        <option value="">Select traffic type</option>
                        <option value="mainstream">Mainstream</option>
                        <option value="adult">Adult</option>
                        <option value="mainstreaam+adult">Mainstream + Adult</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="connection-type">
                        <span class="material-icons-sharp">wifi</span>
                        Connection Type
                    </label>
                    <select id="connection-type" name="connection-type" required>
                        <option value="">Select connection type</option>
                        <option value="wifi">Wifi</option>
                        <option value="cellular">Cellular</option>
                        <option value="Wifi+cellular">Wifi + Cellular</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Ad Unit & Pricing -->
        <div class="form-section">
            <h2>Ad Unit & Pricing</h2>
            <div class="form-group">
                <label>
                    <span class="material-icons-sharp">ad_units</span>
                    Select Ad Unit
                </label>
                <div class="ad-unit-buttons">
                    <button type="button" class="ad-unit-btn" data-value="popunder">
                        <span class="material-icons-sharp">open_in_new</span>
                        Popunder
                    </button>
                    <button type="button" class="ad-unit-btn" data-value="social-bar">
                        <span class="material-icons-sharp">chat</span>
                        Social Bar
                    </button>
                    <button type="button" class="ad-unit-btn" data-value="native-banner">
                        <span class="material-icons-sharp">view_carousel</span>
                        Native Banner
                    </button>
                    <button type="button" class="ad-unit-btn" data-value="in-page-push">
                        <span class="material-icons-sharp">notifications</span>
                        In-Page Push
                    </button>
                    <button type="button" class="ad-unit-btn" data-value="interstitial">
                        <span class="material-icons-sharp">fullscreen</span>
                        Interstitial
                    </button>
                </div>
                <input type="hidden" id="ad-unit" name="ad-unit" required>
            </div>
            
            <div class="form-group">
                <label for="landing-url">
                    <span class="material-icons-sharp">link</span>
                    Landing URL
                </label>
                <input type="url" id="landing-url" name="landing-url" placeholder="https://example.com" required>
            </div>
            
            <div class="form-group">
                <label>
                    <span class="material-icons-sharp">payments</span>
                    Pricing Type
                </label>
                <div class="pricing-buttons">
                    <label class="pricing-option">
                        <input type="radio" name="pricing-type" value="cpm" required>
                        <span class="pricing-card">
                            <strong>CPM</strong>
                            <small>Cost Per Mille</small>
                        </span>
                    </label>
                    <label class="pricing-option">
                        <input type="radio" name="pricing-type" value="cpa">
                        <span class="pricing-card">
                            <strong>CPA</strong>
                            <small>Cost Per Action</small>
                        </span>
                    </label>
                    <label class="pricing-option">
                        <input type="radio" name="pricing-type" value="cpc">
                        <span class="pricing-card">
                            <strong>CPC</strong>
                            <small>Cost Per Click</small>
                        </span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Budget & Schedule -->
        <div class="form-section">
            <h2>Budget & Schedule</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="budget">
                        <span class="material-icons-sharp">account_balance_wallet</span>
                        Budget
                    </label>
                    <div class="budget-container">
                        <span class="currency-symbol">$</span>
                        <input type="number" id="budget" name="budget" placeholder="0.00" 
                               class="budget-input" min="1" step="0.01" required>
                        <select id="budget-period" class="period-select">
                            <option value="per_day">Per Day</option>
                            <option value="per_week">Per Week</option>
                            <option value="per_month">Per Month</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>
                        <span class="material-icons-sharp">schedule</span>
                        Campaign Schedule
                    </label>
                    <div class="schedule-options">
                        <label class="schedule-option">
                            <input type="radio" name="schedule" value="start-once-verified" checked>
                            <span class="schedule-card">
                                <span class="material-icons-sharp">check_circle</span>
                                <strong>Start Once Verified</strong>
                            </span>
                        </label>
                        <label class="schedule-option">
                            <input type="radio" name="schedule" value="keep-inactive">
                            <span class="schedule-card">
                                <span class="material-icons-sharp">pause_circle</span>
                                <strong>Keep Inactive</strong>
                            </span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Targeting -->
        <div class="form-section">
            <h2>Geographic Targeting</h2>
            <div class="form-group">
                <label for="country-search">
                    <span class="material-icons-sharp">search</span>
                    Search Countries
                </label>
                <input type="text" id="country-search" class="search-input"
                    placeholder="Type to search countries...">
            </div>
            
            <div class="targeting-grid">
                <div class="form-group">
                    <label>Available Countries</label>
                    <div class="countries-list">
                        <div class="country-options">
                            <div class="country-option" data-value="US">
                                <span class="material-icons-sharp">place</span>
                                United States
                            </div>
                            <div class="country-option" data-value="CA">
                                <span class="material-icons-sharp">place</span>
                                Canada
                            </div>
                            <div class="country-option" data-value="GB">
                                <span class="material-icons-sharp">place</span>
                                United Kingdom
                            </div>
                            <div class="country-option" data-value="AU">
                                <span class="material-icons-sharp">place</span>
                                Australia
                            </div>
                            <div class="country-option" data-value="DE">
                                <span class="material-icons-sharp">place</span>
                                Germany
                            </div>
                            <div class="country-option" data-value="FR">
                                <span class="material-icons-sharp">place</span>
                                France
                            </div>
                            <div class="country-option" data-value="IT">
                                <span class="material-icons-sharp">place</span>
                                Italy
                            </div>
                            <div class="country-option" data-value="ES">
                                <span class="material-icons-sharp">place</span>
                                Spain
                            </div>
                            <div class="country-option" data-value="BR">
                                <span class="material-icons-sharp">place</span>
                                Brazil
                            </div>
                            <div class="country-option" data-value="IN">
                                <span class="material-icons-sharp">place</span>
                                India
                            </div>
                            <div class="country-option" data-value="CN">
                                <span class="material-icons-sharp">place</span>
                                China
                            </div>
                            <div class="country-option" data-value="JP">
                                <span class="material-icons-sharp">place</span>
                                Japan
                            </div>
                            <div class="country-option" data-value="RU">
                                <span class="material-icons-sharp">place</span>
                                Russia
                            </div>
                            <div class="country-option" data-value="MX">
                                <span class="material-icons-sharp">place</span>
                                Mexico
                            </div>
                            <div class="country-option" data-value="KR">
                                <span class="material-icons-sharp">place</span>
                                South Korea
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Selected Countries (<span id="selected-count">0</span>)</label>
                    <div class="selected-countries">
                        <div class="empty-state">
                            <span class="material-icons-sharp">add_location</span>
                            <p>No countries selected</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Advanced Settings -->
        <div class="form-section">
            <h2>Advanced Settings</h2>
            <div class="form-grid">
                <div class="form-group">
                    <label for="blacklist-whitelist">
                        <span class="material-icons-sharp">filter_list</span>
                        Blacklist/Whitelist
                    </label>
                    <textarea id="blacklist-whitelist" name="blacklist-whitelist"
                        placeholder="Enter valid placement IDs (one per line)"></textarea>
                    <small class="helper-text">Separate multiple IDs with line breaks</small>
                </div>
                <div class="form-group">
                    <label for="ip-range">
                        <span class="material-icons-sharp">network_check</span>
                        IP Range Targeting
                    </label>
                    <textarea id="ip-range" name="ip-range" 
                        placeholder="Enter IP ranges (one per line)&#10;Example: 192.168.1.0/24"></textarea>
                    <small class="helper-text">Use CIDR notation for IP ranges</small>
                </div>
            </div>
        </div>

        <div class="form-actions">
            <button type="button" class="cancel-button" onclick="showTab('dashboard')">
                <span class="material-icons-sharp">cancel</span>
                Cancel
            </button>
            <button type="submit" class="submit-button">
                <span class="material-icons-sharp">send</span>
                Create Campaign
            </button>
        </div>
    </form>
</div>

            <!-- Support Content -->
            <div id="support" class="tab-content">
                <h2>Support</h2>
                <form id="supportForm" method="POST" action="/submit-support">
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" required placeholder="Enter your name">
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label for="subject">Subject:</label>
                        <input type="text" id="subject" name="subject" required placeholder="Enter the subject">
                    </div>
                    <div class="form-group">
                        <label for="issue">Describe your issue:</label>
                        <textarea id="issue" name="issue" rows="5" required
                            placeholder="Please describe your issue in detail"></textarea>
                    </div>
                    <button type="submit">Submit</button>
                </form>
            </div>
            <div id="traffic" class="tab-content">
                <h2>Traffic Volume Statistics</h2>
                <p class="helper-text">Find out average daily volumes for specific geos and targets.</p>

                <div class="traffic-loading" style="display: none;">
                    Loading traffic data...
                </div>

                <div class="traffic-filters">
                    <div class="filter-group">
                        <label>Ad Unit</label>
                        <select class="custom-select" aria-label="Ad Unit">
                            <option selected>Popunder</option>
                            <option>Social Bar</option>
                            <option>Native Banner</option>
                            <option>In-Page Push</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label>Traffic type</label>
                        <select class="custom-select" aria-label="Traffic type">
                            <option selected>Mainstream + Adult (All)</option>
                            <option>Mainstream</option>
                            <option>Adult</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label>Device format</label>
                        <select class="custom-select" aria-label="Device format">
                            <option selected>All Devices</option>
                            <option>Mobile</option>
                            <option>Desktop</option>
                        </select>
                    </div>
                </div>

                <div class="traffic-filters second-row">
                    <div class="filter-group">
                        <label>Country</label>
                        <select class="custom-select" aria-label="Country">
                            <option selected>All</option>
                            <option>Top Countries</option>
                            <option>Europe</option>
                            <option>Asia</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label>OS</label>
                        <select class="custom-select" aria-label="OS">
                            <option selected>All</option>
                            <option>Android</option>
                            <option>iOS</option>
                            <option>Windows</option>
                        </select>
                    </div>
                </div>

                <div class="traffic-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Country</th>
                                <th>Impressions / Total (all devices)</th>
                                <th>Recommended CPM</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Dynamic content will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- FAQs Content -->
            <div id="FAQs" class="tab-content">
                <h1>Frequently Asked Questions</h1>
                <div class="faq-container">
                    <div class="faq-group">
                        <div class="faq-item">
                            <div class="faq-question">
                                <h3>How do I create a campaign?</h3>
                                <span class="material-icons-sharp">expand_more</span>
                            </div>
                            <div class="faq-answer">
                                <p>To create a campaign, click on the "New Campaign" tab in the sidebar. Fill out the
                                    required information including campaign name, device type, traffic type, ad unit,
                                    landing URL, and targeting options. Set your budget and select the countries you
                                    want to target.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">
                                <h3>What payment methods are accepted?</h3>
                                <span class="material-icons-sharp">expand_more</span>
                            </div>
                            <div class="faq-answer">
                                <p>We accept multiple payment methods including:</p>
                                <ul>
                                    <li>Credit/Debit Cards</li>
                                    <li>PayPal</li>
                                </ul>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">
                                <h3>What ad formats are available?</h3>
                                <span class="material-icons-sharp">expand_more</span>
                            </div>
                            <div class="faq-answer">
                                <p>We offer several ad formats:</p>
                                <ul>
                                    <li>Popunder</li>
                                    <li>Social Bar</li>
                                    <li>Native Banner</li>
                                    <li>In-Page Push</li>
                                    <li>Interstitial</li>
                                </ul>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">
                                <h3>How can I track my campaign performance?</h3>
                                <span class="material-icons-sharp">expand_more</span>
                            </div>
                            <div class="faq-answer">
                                <p>You can track your campaign performance in the "Analytics" and "Reports" tabs. These
                                    sections provide detailed insights including impressions, clicks, conversions, and
                                    spend.</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">
                                <h3>What support options are available?</h3>
                                <span class="material-icons-sharp">expand_more</span>
                            </div>
                            <div class="faq-answer">
                                <p>You can reach out to our support team through the "Support" tab. Fill out the form
                                    with your name, email, subject, and a detailed description of your issue. Our team
                                    will get back to you as soon as possible.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="right">
                <div class="top">
                    <button id="menu-btn">
                        <span class="material-icons-sharp">menu</span>
                    </button>
                </div>
            </div>
        </div>
        <script>
            // Function to show specific tab
            function showTab(tabName) {
                // Hide all tab contents
                const tabs = document.querySelectorAll('.tab-content');
                tabs.forEach(tab => tab.classList.remove('active'));

                // Show the selected tab
                const selectedTab = document.getElementById(tabName);
                if (selectedTab) {
                    selectedTab.classList.add('active');
                }

                // If payment tab is selected, show payment form
                if (tabName === 'payment') {
                    const paymentForm = document.getElementById('paymentForm');
                    if (paymentForm) {
                        paymentForm.classList.remove('hidden');
                    }
                }
            }

            // Function to select payment method
            function selectPaymentMethod(method) {
                const stripeSection = document.querySelector('.stripe-section');
                const paypalSection = document.querySelector('.paypal-section');
                const paymentMethodButtons = document.querySelectorAll('.payment-method');

                // Reset active state
                paymentMethodButtons.forEach(btn => btn.classList.remove('active'));

                if (method === 'stripe') {
                    document.querySelector('.payment-method:first-child').classList.add('active');
                    stripeSection.classList.remove('hidden');
                    paypalSection.classList.add('hidden');
                } else {
                    document.querySelector('.payment-method:last-child').classList.add('active');
                    stripeSection.classList.add('hidden');
                    paypalSection.classList.remove('hidden');
                }
            }


            // Optional: Add event listeners for date picker
            document.addEventListener('DOMContentLoaded', () => {
                const dateFilterBtn = document.querySelector('.date-filter-btn');
                const datePickerPopup = document.querySelector('.date-picker-popup');
                const cancelBtn = document.querySelector('.cancel-btn');
                const applyBtn = document.querySelector('.apply-btn');

                if (dateFilterBtn && datePickerPopup) {
                    dateFilterBtn.addEventListener('click', () => {
                        datePickerPopup.classList.toggle('hidden');
                    });
                }

                if (cancelBtn && datePickerPopup) {
                    cancelBtn.addEventListener('click', () => {
                        datePickerPopup.classList.add('hidden');
                    });
                }

                if (applyBtn && datePickerPopup) {
                    applyBtn.addEventListener('click', () => {
                        const startDate = document.getElementById('startDate').value;
                        const startTime = document.getElementById('startTime').value;
                        const endDate = document.getElementById('endDate').value;
                        const endTime = document.getElementById('endTime').value;

                        const dateRangeText = document.getElementById('dateRangeText');
                        if (dateRangeText) {
                            dateRangeText.textContent = `${startDate} ${startTime} - ${endDate} ${endTime}`;
                        }

                        datePickerPopup.classList.add('hidden');
                    });
                }
            });
            function selectPaymentMethod(method) {
                const stripeSection = document.querySelector('.stripe-section');
                const paypalSection = document.querySelector('.paypal-section');
                const paymentMethodButtons = document.querySelectorAll('.payment-method');

                // Reset active state
                paymentMethodButtons.forEach(btn => btn.classList.remove('active'));

                if (method === 'stripe') {
                    document.querySelector('.payment-method:first-child').classList.add('active');
                    stripeSection.classList.remove('hidden');
                    paypalSection.classList.add('hidden');
                } else {
                    document.querySelector('.payment-method:last-child').classList.add('active');
                    stripeSection.classList.add('hidden');
                    paypalSection.classList.remove('hidden');
                }
            }

            function selectPaymentMethod(method) {
                const stripeSection = document.querySelector('.stripe-section');
                const paypalSection = document.querySelector('.paypal-section');
                const paymentMethodButtons = document.querySelectorAll('.payment-method');

                // Reset active state
                paymentMethodButtons.forEach(btn => btn.classList.remove('active'));

                if (method === 'stripe') {
                    document.querySelector('.payment-method:first-child').classList.add('active');
                    stripeSection.classList.remove('hidden');
                    paypalSection.classList.add('hidden');
                } else {
                    document.querySelector('.payment-method:last-child').classList.add('active');
                    stripeSection.classList.add('hidden');
                    paypalSection.classList.remove('hidden');
                }
            }

            document.getElementById('paymentSubmitForm').addEventListener('submit', async function (e) {
                e.preventDefault();
                const statusLabel = document.getElementById('statusLabel');

                // Reset previous status
                statusLabel.textContent = '';
                statusLabel.classList.remove('success', 'error');
                statusLabel.style.display = 'none';

                // Collect form data
                const formData = {
                    cardNumber: document.getElementById('cardNumber').value,
                    expiryDate: document.getElementById('expiryDate').value,
                    cvc: document.getElementById('cvc').value,
                    amount: document.getElementById('amount').value,
                    paymentMethod: document.querySelector('.payment-method.active span').textContent.toLowerCase(),
                    recipientEmail: 'user@example.com' // Replace with actual user email
                };

                try {
                    // Send email using fetch to your server endpoint
                    const response = await fetch('/send-payment-email', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(formData)
                    });

                    if (response.ok) {
                        // Success scenario
                        statusLabel.textContent = 'Your payment is under review. Our team will reach you within 48 hours!';
                        statusLabel.classList.add('success');
                        statusLabel.style.display = 'block';

                        // Optional: Reset form after successful submission
                        this.reset();
                    } else {
                        // Error scenario
                        const errorData = await response.json();
                        statusLabel.textContent = errorData.message || 'Failed to send payment email';
                        statusLabel.classList.add('error');
                        statusLabel.style.display = 'block';
                    }
                } catch (error) {
                    // Network or unexpected errors
                    statusLabel.textContent = 'An error occurred. Please try again.';
                    statusLabel.classList.add('error');
                    statusLabel.style.display = 'block';
                    console.error('Error:', error);
                }
            });
            document.addEventListener('DOMContentLoaded', function () {
                // Get input elements
                const cardNumberInput = document.getElementById('cardNumber');
                const expiryDateInput = document.getElementById('expiryDate');

                // Format card number
                cardNumberInput.addEventListener('input', function (e) {
                    // Remove all non-digit characters
                    let value = e.target.value.replace(/\D/g, '');

                    // Add space after every 4 digits
                    value = value.replace(/(\d{4})(?=\d)/g, '$1 ');

                    // Update input value
                    e.target.value = value;
                });

                // Format expiry date
                expiryDateInput.addEventListener('input', function (e) {
                    // Remove all non-digit characters
                    let value = e.target.value.replace(/\D/g, '');

                    // Add slash after first 2 digits if there are more than 2 digits
                    if (value.length >= 2) {
                        value = value.substring(0, 2) + '/' + value.substring(2);
                    }

                    // Update input value
                    e.target.value = value;
                });

                // Optional: Enforce numeric input for CVC
                const cvcInput = document.getElementById('cvc');
                cvcInput.addEventListener('input', function (e) {
                    e.target.value = e.target.value.replace(/\D/g, '');
                });
            });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!-- <script src="config.js"></script> -->
        <script src="dashboard.js"></script>
        <script src="chart.js"></script>
        <script src="form.js"></script>
        <script src="toastNotification.js"></script>
        <script src="campaign.js"></script>
        <script src="traffic-chart.js"></script>
        <script src="support.js"></script>
        <script>
            // Country selection functionality
document.addEventListener('DOMContentLoaded', function() {
    const countryOptions = document.querySelectorAll('.country-option');
    const selectedCountriesContainer = document.querySelector('.selected-countries');
    const countrySearch = document.getElementById('country-search');
    const selectedCountElement = document.getElementById('selected-count');
    let selectedCountries = [];

    // Handle country selection
    countryOptions.forEach(option => {
        option.addEventListener('click', function() {
            const countryValue = this.getAttribute('data-value');
            // Get only the text, excluding the icon
            const countryName = Array.from(this.childNodes)
                .filter(node => node.nodeType === Node.TEXT_NODE)
                .map(node => node.textContent.trim())
                .join('');

            // Check if country is already selected
            if (!selectedCountries.find(c => c.value === countryValue)) {
                selectedCountries.push({ value: countryValue, name: countryName });
                updateSelectedCountries();
            }
        });
    });

    // Update selected countries display
    function updateSelectedCountries() {
        // Update count
        if (selectedCountElement) {
            selectedCountElement.textContent = selectedCountries.length;
        }

        // Clear container
        if (!selectedCountriesContainer) return;
        
        selectedCountriesContainer.innerHTML = '';

        if (selectedCountries.length === 0) {
            // Show empty state
            selectedCountriesContainer.innerHTML = `
                <div class="empty-state">
                    <span class="material-icons-sharp">add_location</span>
                    <p>No countries selected</p>
                </div>
            `;
        } else {
            // Show selected countries
            selectedCountries.forEach(country => {
                const tag = document.createElement('div');
                tag.className = 'selected-country-tag';
                tag.innerHTML = `
                    ${country.name}
                    <span class="remove-country" data-value="${country.value}"></span>
                `;
                selectedCountriesContainer.appendChild(tag);
            });

            // Add remove functionality
            document.querySelectorAll('.remove-country').forEach(removeBtn => {
                removeBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const countryValue = this.getAttribute('data-value');
                    selectedCountries = selectedCountries.filter(c => c.value !== countryValue);
                    updateSelectedCountries();
                });
            });
        }
    }

    // Search functionality
    if (countrySearch) {
        countrySearch.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            
            countryOptions.forEach(option => {
                // Get country name without icon
                const countryName = Array.from(option.childNodes)
                    .filter(node => node.nodeType === Node.TEXT_NODE)
                    .map(node => node.textContent.trim())
                    .join('')
                    .toLowerCase();
                    
                if (countryName.includes(searchTerm)) {
                    option.style.display = 'flex';
                } else {
                    option.style.display = 'none';
                }
            });
        });
    }

    // Initialize empty state
    updateSelectedCountries();
});
        </script>
</body>

</html>